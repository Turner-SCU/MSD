<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content='Functions for calculating characteristics of a mid-summer drought 
    (MSD), a phenomenon of decreased rainfall during a typical rainy season. 
    The MSD is a feature of rainfall in much of Central America, but is also
    found in other locations, typically those with a Mediterranean climate.
    The details are described in "The Mesoamerican mid-summer drought: the 
    impact of its definition on occurrences and recent changes", HESS, Maurer 
    et al. (2022) &lt;https://hess.copernicus.org/articles/26/1425/2022/&gt;.
    GitHub repository can be found at &lt;https://github.com/Turner-SCU/msdrought&gt;.'>
<title>Calculate Characteristics of a Seasonal Mid-Summer Drought • msdrought</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Calculate Characteristics of a Seasonal Mid-Summer Drought">
<meta property="og:description" content='Functions for calculating characteristics of a mid-summer drought 
    (MSD), a phenomenon of decreased rainfall during a typical rainy season. 
    The MSD is a feature of rainfall in much of Central America, but is also
    found in other locations, typically those with a Mediterranean climate.
    The details are described in "The Mesoamerican mid-summer drought: the 
    impact of its definition on occurrences and recent changes", HESS, Maurer 
    et al. (2022) &lt;https://hess.copernicus.org/articles/26/1425/2022/&gt;.
    GitHub repository can be found at &lt;https://github.com/Turner-SCU/msdrought&gt;.'>
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">msdrought</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/Sample-Walkthrough.html">sample-walkthrough</a>
    <a class="dropdown-item" href="articles/average-daily.html">average-daily</a>
    <a class="dropdown-item" href="articles/raster-sample.html">raster-sample</a>
    <a class="dropdown-item" href="articles/vector-from-raster.html">vector-from-raster</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/Turner-SCU/msdrought/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="msdroughtthe-msdrought-r-package-contains-functions-for-calculating-characteristics-of-a-mid-summer-drought-msd-a-phenomenon-of-decreased-rainfall-during-a-typical-rainy-seasonthe-msd-is-a-feature-of-rainfall-in-much-of-central-america-but-is-also-found-in-other-locations-typically-those-with-a-mediterranean-climatethe-details-are-described-in-the-mesoamerican-mid-summer-drought-the-impact-of-its-definition-on-occurrences-and-recent-changes-hess-maurer-et-al-2022-httpshesscopernicusorgarticles2614252022-installationyou-can-install-the-msdrought-package-from-cran-withrinstallpackagesmsdrought-examplethese-are-the-steps-required-to-create-useful-msd-data1-begin-with-a-xts-or-spatraster-of-precipitation-data-over-time-please-view-the-sample-walkthrough-or-the-raster-sample-vignettes-for-information-on-how-to-properly-format-the-data-and-how-to-proceed-with-utilizing-this-package2-filter-this-data-using-the-msdfilter-function-a-bartlett-noise-filter-is-applied-to-the-data-in-order-to-smooth-the-precipitation-data-over-time-via-weighted-average3-use-the-msddates-function-to-extract-relevant-dates-for-the-calculations-there-are-two-sets-of-necessary-dates-when-calculating-the-msd-statistics-the-critical-periods-and-the-start-and-end-of-the-year-this-function-determines-both-and-stores-them-as-a-single-vector-the-following-function-msdstats-breaks-the-two-types-of-dates-apart-so-it-is-important-to-not-change-the-output-of-the-msddates-function-before-feeding-it-into-the-subsequent-msd-function4-supply-the-msdstats-function-with-precipitation-data-the-data-from-msddates-and-a-selected-parameter-to-calculate-the-precipitation-data-must-be-filtered-using-the-msdfilter-function-in-order-for-this-function-to-provide-useful-data-the-input-from-msddates-must-be-unchanged-from-its-original-output-the-following-parameters-are-applicable-to-the-msd-calculation-duration-intensity-firstmaxvalue-secondmaxvalue-min-and-mindex5-alternatively-use-the-msdmain-function-to-calculate-every-relevant-statistics-related-to-the-msd-phenomenon-the-msdmain-function-runs-the-msdstats-function-for-every-parameter-and-every-year-this-output-is-much-more-comprehensive-if-you-are-looking-to-characterize-multiple-years-of-data-or-are-just-wanting-to-understand-one-years-parameters-all-at-once6-create-a-plot-of-one-year-of-rainfall-data-to-visualize-the-msd-phenomenon-and-its-parameters-using-the-msdgraph-function-a-visual-plot-of-the-filtered-rainfall-data-its-key-dates-and-the-peaks-and-valleys-used-to-characterize-the-drought-can-be-createdr-examplelibrarymsdrought-------------------------------------------------------------------------------------------------------------------------------load-in-the-data-that-will-be-analyzeddatatimeseriesx--timeseries-------------------------------------------------------------------------------------------------------------------------------msddates--times-peakwindow1--05-01-minwindow1--06-01-minwindow2--08-31-peakwindow2--10-31keydatests--msdroughtmsddatesstatstimex-------------------------------------------------------------------------------------------------------------------------------msdfilter--msdfilterx-windowfilterts--applyx-margin--2-fun--msdfilter-window--31-quantity--2-------------------------------------------------------------------------------------------------------------------------------msdstats--msdstatsx-dates-fcnduration---applyfilterts-margin--2-fun--msdstats-keydatests-fcndurationintensity---applyfilterts-margin--2-fun--msdstats-keydatests-fcnintensityfirstmaxvalue---applyfilterts-margin--2-fun--msdstats-keydatests-fcnfirstmaxvaluesecondmaxvalue---applyfilterts-margin--2-fun--msdstats-keydatests-fcnsecondmaxvaluemin---applyfilterts-margin--2-fun--msdstats-keydatests-fcnmin-------------------------------------------------------------------------------------------------------------------------------msdmain--msdmainx-firststartdate-firstenddate-secondstartdate-secondenddate-window-quantityallstats--msdroughtmsdmainx-------------------------------------------------------------------------------------------------------------------------------msdgraph--msdgraphx-year-firststartdate-firstenddate-secondstartdate-secondenddate-window-quantitygraph1981--msdroughtmsdgraphx-1981plotgraph1981">msdrought<!-- badges: start --><!-- badges: end -->The msdrought R package contains functions for calculating characteristics of a mid-summer drought (MSD), a phenomenon of decreased rainfall during a typical rainy season.The MSD is a feature of rainfall in much of Central America, but is also found in other locations, typically those with a Mediterranean climate.The details are described in “The Mesoamerican mid-summer drought: the impact of its definition on occurrences and recent changes”, HESS, Maurer et al. (2022) ‘<a href="https://hess.copernicus.org/articles/26/1425/2022/" class="external-link uri">https://hess.copernicus.org/articles/26/1425/2022/</a>’.## InstallationYou can install the msdrought package from <a href="https://cran.r-project.org/" class="external-link">CRAN</a> with:<code>rinstall.packages("msdrought")</code>## ExampleThese are the steps required to create useful MSD <a href="data:1" class="uri">data:1</a>) <strong>Begin with a xts or spatraster of precipitation data over time.</strong> Please view the sample-walkthrough or the raster-sample vignettes for information on how to properly format the data and how to proceed with utilizing this package.2) <strong>Filter this data using the msdFilter function.</strong> A bartlett noise filter is applied to the data in order to smooth the precipitation data over time via weighted average3) <strong>Use the msdDates function to extract relevant dates for the calculations.</strong> There are two sets of necessary dates when calculating the MSD statistics: the critical periods and the start and end of the year. This function determines both and stores them as a single vector. The following function (msdStats) breaks the two types of dates apart, so it is important to not change the output of the msdDates function before feeding it into the subsequent msd function.4) <strong>Supply the msdStats function with precipitation data, the data from msdDates, and a selected parameter to calculate.</strong> The precipitation data must be filtered using the msdFilter function. In order for this function to provide useful data, the input from msdDates must be unchanged from its original output. The following parameters are applicable to the MSD calculation: duration, intensity, firstMaxValue, secondMaxValue, min, and mindex.5) <strong>Alternatively, use the msdMain function to calculate every relevant statistics related to the MSD phenomenon</strong> The msdMain function runs the msdStats function for every parameter and every year. This output is much more comprehensive if you are looking to characterize multiple years of data, or are just wanting to understand one year’s parameters all at once.6) <strong>Create a plot of one year of rainfall data to visualize the MSD phenomenon and its parameters</strong> Using the msdGraph function, a visual plot of the filtered rainfall data, its key dates, and the peaks and valleys used to characterize the drought can be created.<code>{r example}library(msdrought)#------------------------------------------------------------------------------------------------------------------------------# Load in the data that will be analyzed.data("timeseries")x = timeseries#------------------------------------------------------------------------------------------------------------------------------# msdDates = (times, peakWindow1 = "05-01", minWindow1 = "06-01", minWindow2 = "08-31", peakWindow2 = "10-31")keyDatesTS = msdrought::msdDates(stats::time(x))#------------------------------------------------------------------------------------------------------------------------------# msdFilter = msdFilter(x, window)filterTS = apply(x, MARGIN = 2, FUN = msdFilter, window = 31, quantity = 2)#------------------------------------------------------------------------------------------------------------------------------# msdStats = msdStats(x, dates, fcn)duration &lt;- apply(filterTS, MARGIN = 2, FUN = msdStats, keyDatesTS, fcn="duration")intensity &lt;- apply(filterTS, MARGIN = 2, FUN = msdStats, keyDatesTS, fcn="intensity")firstMaxValue &lt;- apply(filterTS, MARGIN = 2, FUN = msdStats, keyDatesTS, fcn="firstMaxValue")secondMaxValue &lt;- apply(filterTS, MARGIN = 2, FUN = msdStats, keyDatesTS, fcn="secondMaxValue")min &lt;- apply(filterTS, MARGIN = 2, FUN = msdStats, keyDatesTS, fcn="min")#------------------------------------------------------------------------------------------------------------------------------# msdMain = msdMain(x, firstStartDate, firstEndDate, secondStartDate, secondEndDate, window, quantity)allStats = msdrought::msdMain(x)#------------------------------------------------------------------------------------------------------------------------------# msdGraph = msdGraph(x, year, firstStartDate, firstEndDate, secondStartDate, secondEndDate, window, quantity)graph1981 = msdrought::msdGraph(x, 1981)plot(graph1981)</code>
<a class="anchor" aria-label="anchor" href="#msdroughtthe-msdrought-r-package-contains-functions-for-calculating-characteristics-of-a-mid-summer-drought-msd-a-phenomenon-of-decreased-rainfall-during-a-typical-rainy-seasonthe-msd-is-a-feature-of-rainfall-in-much-of-central-america-but-is-also-found-in-other-locations-typically-those-with-a-mediterranean-climatethe-details-are-described-in-the-mesoamerican-mid-summer-drought-the-impact-of-its-definition-on-occurrences-and-recent-changes-hess-maurer-et-al-2022-httpshesscopernicusorgarticles2614252022-installationyou-can-install-the-msdrought-package-from-cran-withrinstallpackagesmsdrought-examplethese-are-the-steps-required-to-create-useful-msd-data1-begin-with-a-xts-or-spatraster-of-precipitation-data-over-time-please-view-the-sample-walkthrough-or-the-raster-sample-vignettes-for-information-on-how-to-properly-format-the-data-and-how-to-proceed-with-utilizing-this-package2-filter-this-data-using-the-msdfilter-function-a-bartlett-noise-filter-is-applied-to-the-data-in-order-to-smooth-the-precipitation-data-over-time-via-weighted-average3-use-the-msddates-function-to-extract-relevant-dates-for-the-calculations-there-are-two-sets-of-necessary-dates-when-calculating-the-msd-statistics-the-critical-periods-and-the-start-and-end-of-the-year-this-function-determines-both-and-stores-them-as-a-single-vector-the-following-function-msdstats-breaks-the-two-types-of-dates-apart-so-it-is-important-to-not-change-the-output-of-the-msddates-function-before-feeding-it-into-the-subsequent-msd-function4-supply-the-msdstats-function-with-precipitation-data-the-data-from-msddates-and-a-selected-parameter-to-calculate-the-precipitation-data-must-be-filtered-using-the-msdfilter-function-in-order-for-this-function-to-provide-useful-data-the-input-from-msddates-must-be-unchanged-from-its-original-output-the-following-parameters-are-applicable-to-the-msd-calculation-duration-intensity-firstmaxvalue-secondmaxvalue-min-and-mindex5-alternatively-use-the-msdmain-function-to-calculate-every-relevant-statistics-related-to-the-msd-phenomenon-the-msdmain-function-runs-the-msdstats-function-for-every-parameter-and-every-year-this-output-is-much-more-comprehensive-if-you-are-looking-to-characterize-multiple-years-of-data-or-are-just-wanting-to-understand-one-years-parameters-all-at-once6-create-a-plot-of-one-year-of-rainfall-data-to-visualize-the-msd-phenomenon-and-its-parameters-using-the-msdgraph-function-a-visual-plot-of-the-filtered-rainfall-data-its-key-dates-and-the-peaks-and-valleys-used-to-characterize-the-drought-can-be-createdr-examplelibrarymsdrought-------------------------------------------------------------------------------------------------------------------------------load-in-the-data-that-will-be-analyzeddatatimeseriesx--timeseries-------------------------------------------------------------------------------------------------------------------------------msddates--times-peakwindow1--05-01-minwindow1--06-01-minwindow2--08-31-peakwindow2--10-31keydatests--msdroughtmsddatesstatstimex-------------------------------------------------------------------------------------------------------------------------------msdfilter--msdfilterx-windowfilterts--applyx-margin--2-fun--msdfilter-window--31-quantity--2-------------------------------------------------------------------------------------------------------------------------------msdstats--msdstatsx-dates-fcnduration---applyfilterts-margin--2-fun--msdstats-keydatests-fcndurationintensity---applyfilterts-margin--2-fun--msdstats-keydatests-fcnintensityfirstmaxvalue---applyfilterts-margin--2-fun--msdstats-keydatests-fcnfirstmaxvaluesecondmaxvalue---applyfilterts-margin--2-fun--msdstats-keydatests-fcnsecondmaxvaluemin---applyfilterts-margin--2-fun--msdstats-keydatests-fcnmin-------------------------------------------------------------------------------------------------------------------------------msdmain--msdmainx-firststartdate-firstenddate-secondstartdate-secondenddate-window-quantityallstats--msdroughtmsdmainx-------------------------------------------------------------------------------------------------------------------------------msdgraph--msdgraphx-year-firststartdate-firstenddate-secondstartdate-secondenddate-window-quantitygraph1981--msdroughtmsdgraphx-1981plotgraph1981"></a>
</h1></div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/Turner-SCU/msdrought/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/Turner-SCU/msdrought/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing msdrought</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Kenneth Joseph <br><small class="roles"> Author </small>  </li>
<li>Ed Maurer <br><small class="roles"> Author, maintainer, copyright holder </small>  </li>
<li>Alex Avila <br><small class="roles"> Author </small>  </li>
<li>Turner Uyeda <br><small class="roles"> Author </small>  </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Kenneth Joseph, Ed Maurer, Alex Avila, Turner Uyeda.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
